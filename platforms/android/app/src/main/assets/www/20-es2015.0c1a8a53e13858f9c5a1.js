(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{cRhG:function(e,t,s){"use strict";s.r(t),s.d(t,"ProfilePageModule",(function(){return c}));var o=s("ofXK"),i=s("3Pt+"),n=s("TEn/"),r=s("tyNb"),a=s("fXoL"),l=s("VGr1"),d=s("hq03");const b=[{path:"",component:(()=>{class e{constructor(e,t,s,o){this.service=e,this.alert=t,this.router=s,this.route=o,this.forms={email:"",phone:"",cell:"",first_name:"",last_name:"",address_street:"",address_city:"",address_state:"",address_postcode:"",scope_of_work:""},this.update=!0,this.showList=!1}ngOnInit(){this.service.getLocation(),this.route.queryParams.subscribe(e=>{if(e&&e.special){let t=JSON.parse(e.special);this.opportunity=t,this.service.opportunity=t,console.log(this.service.opportunity),this.getOpps()}})}getOpps(){let e=this.service.address?this.service.address.split(","):"";console.log(e),this.service.showLoader(),this.service.postObs("/getdata/lead",{opportunity_id:this.opportunity.OPPORTUNITY_ID,delete_status:"S"}).subscribe(t=>{200==t.status?(this.update=!1,this.forms=t.result[0],console.log(this.forms),this.service.mailData=this.forms,this.getPillerDetails()):(this.forms=this.service.opportunity,this.forms.address_street=e[0]?e[0]:"",this.forms.address_city=e[2]?e[2]:"",this.forms.address_state=e[3]?e[3]:"",this.forms.address_postcode=e[4]?e[4]:""),this.service.hideLoader()})}getPillerDetails(){this.service.postObs("/getdata/pillers",{opportunity_id:this.service.opportunity.OPPORTUNITY_ID,delete_status:"S"}).subscribe(e=>{200==e.status&&(this.showList=!0)})}create(e){if(console.log(this.service.checkProperties(e.control.value)),this.service.checkProperties(e.control.value)){this.service.showLoader();let t={opportunity_id:this.opportunity.OPPORTUNITY_ID,opportunity_user_id:this.opportunity.OWNER_USER_ID,created_userid:this.opportunity.CREATED_USER_ID,responsible_userid:this.opportunity.RESPONSIBLE_USER_ID,owner_user_id:this.opportunity.OWNER_USER_ID,email:e.value.email,phone:e.value.phone,cell:e.value.cell,first_name:e.value.first_name,last_name:e.value.last_name,address_street:e.value.address_street,address_city:e.value.address_city,address_state:e.value.address_state,address_postcode:e.value.address_postcode,scope_of_work:e.value.scope_of_work};this.service.mailData=t,this.service.postObs("/postdata/lead",t).subscribe(e=>{this.service.hideLoader(),console.log(e),201==e.status?this.router.navigateByUrl("/appoinment"):this.alert.presentToast("opportunity insert failed..!")}),console.log("profile page")}else this.alert.presentToast("Please fill all the data..!")}updateForm(e){if(this.service.checkProperties(e.control.value)){this.service.showLoader();let t={opportunity_id:this.opportunity.OPPORTUNITY_ID,opportunity_user_id:this.opportunity.OWNER_USER_ID,created_userid:this.opportunity.CREATED_USER_ID,responsible_userid:this.opportunity.RESPONSIBLE_USER_ID,owner_user_id:this.opportunity.OWNER_USER_ID,email:e.value.email,phone:e.value.phone,cell:e.value.cell,first_name:e.value.first_name,last_name:e.value.last_name,address_street:e.value.address_street,address_city:e.value.address_city,address_state:e.value.address_state,address_postcode:e.value.address_postcode,scope_of_work:e.value.scope_of_work};this.service.mailData=t,this.service.postObs("/putdata/lead",t).subscribe(e=>{this.service.hideLoader(),this.router.navigateByUrl("/appoinment")})}else this.alert.presentToast("Please fill all the data..!")}skip(e){this.router.navigateByUrl("/appoinment")}pillerPage(){this.router.navigateByUrl("/pillers")}}return e.\u0275fac=function(t){return new(t||e)(a.Hb(l.a),a.Hb(d.a),a.Hb(r.g),a.Hb(r.a))},e.\u0275cmp=a.Bb({type:e,selectors:[["app-profile"]],decls:51,vars:11,consts:[[1,"ion-text-center"],["slot","start"],["method","post",1,"form_item"],["form","ngForm"],[1,"lb-img"],["position","floating"],["type","text","name","first_name",3,"ngModel","ngModelChange"],["type","text","name","last_name",3,"ngModel","ngModelChange"],["type","email","name","email",3,"ngModel","ngModelChange"],["type","number","name","phone",3,"ngModel","ngModelChange"],["type","number","name","cell",3,"ngModel","ngModelChange"],["type","text","name","address_street",3,"ngModel","ngModelChange"],["type","text","name","address_city",3,"ngModel","ngModelChange"],["type","text","name","address_state",3,"ngModel","ngModelChange"],["type","text","name","address_postcode",3,"ngModel","ngModelChange"],["name","scope_of_work","placeholder","Scope of work",3,"ngModel","ngModelChange"],["type","submit","expand","full","color","secondary",1,"footer_btn",3,"click"]],template:function(e,t){if(1&e){const e=a.Lb();a.Kb(0,"ion-header"),a.Kb(1,"ion-toolbar",0),a.Kb(2,"ion-buttons",1),a.Ib(3,"ion-back-button"),a.Jb(),a.Kb(4,"ion-title"),a.Kb(5,"ion-label"),a.jc(6),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Kb(7,"ion-content"),a.Kb(8,"form",2,3),a.Kb(10,"ion-item",4),a.Kb(11,"ion-label",5),a.jc(12,"First Name"),a.Jb(),a.Kb(13,"ion-input",6),a.Sb("ngModelChange",(function(e){return t.forms.first_name||(t.forms.OPPORTUNITY_NAME=e)})),a.Jb(),a.Jb(),a.Kb(14,"ion-item",4),a.Kb(15,"ion-label",5),a.jc(16,"Last Name"),a.Jb(),a.Kb(17,"ion-input",7),a.Sb("ngModelChange",(function(e){return t.forms.last_name=e})),a.Jb(),a.Jb(),a.Kb(18,"ion-item",4),a.Kb(19,"ion-label",5),a.jc(20,"Email"),a.Jb(),a.Kb(21,"ion-input",8),a.Sb("ngModelChange",(function(e){return t.forms.email=e})),a.Jb(),a.Jb(),a.Kb(22,"ion-item",4),a.Kb(23,"ion-label",5),a.jc(24,"Phone"),a.Jb(),a.Kb(25,"ion-input",9),a.Sb("ngModelChange",(function(e){return t.forms.phone=e})),a.Jb(),a.Jb(),a.Kb(26,"ion-item",4),a.Kb(27,"ion-label",5),a.jc(28,"Cell"),a.Jb(),a.Kb(29,"ion-input",10),a.Sb("ngModelChange",(function(e){return t.forms.cell=e})),a.Jb(),a.Jb(),a.Kb(30,"ion-item",4),a.Kb(31,"ion-label",5),a.jc(32,"Address"),a.Jb(),a.Kb(33,"ion-input",11),a.Sb("ngModelChange",(function(e){return t.forms.address_street=e})),a.Jb(),a.Jb(),a.Kb(34,"ion-item",4),a.Kb(35,"ion-label",5),a.jc(36,"City"),a.Jb(),a.Kb(37,"ion-input",12),a.Sb("ngModelChange",(function(e){return t.forms.address_city=e})),a.Jb(),a.Jb(),a.Kb(38,"ion-item",4),a.Kb(39,"ion-label",5),a.jc(40,"State"),a.Jb(),a.Kb(41,"ion-input",13),a.Sb("ngModelChange",(function(e){return t.forms.address_state=e})),a.Jb(),a.Jb(),a.Kb(42,"ion-item",4),a.Kb(43,"ion-label",5),a.jc(44,"Zip"),a.Jb(),a.Kb(45,"ion-input",14),a.Sb("ngModelChange",(function(e){return t.forms.address_postcode=e})),a.Jb(),a.Jb(),a.Kb(46,"ion-item",4),a.Kb(47,"ion-textarea",15),a.Sb("ngModelChange",(function(e){return t.forms.scope_of_work=e})),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Kb(48,"ion-footer"),a.Kb(49,"ion-button",16),a.Sb("click",(function(){a.ec(e);const s=a.cc(9);return t.update?t.create(s):t.updateForm(s)})),a.jc(50,"Continue"),a.Jb(),a.Jb()}2&e&&(a.xb(6),a.kc(t.service.opportunity.OPPORTUNITY_NAME),a.xb(7),a.Zb("ngModel",t.forms.first_name||t.forms.OPPORTUNITY_NAME),a.xb(4),a.Zb("ngModel",t.forms.last_name),a.xb(4),a.Zb("ngModel",t.forms.email),a.xb(4),a.Zb("ngModel",t.forms.phone),a.xb(4),a.Zb("ngModel",t.forms.cell),a.xb(4),a.Zb("ngModel",t.forms.address_street),a.xb(4),a.Zb("ngModel",t.forms.address_city),a.xb(4),a.Zb("ngModel",t.forms.address_state),a.xb(4),a.Zb("ngModel",t.forms.address_postcode),a.xb(2),a.Zb("ngModel",t.forms.scope_of_work))},directives:[n.p,n.N,n.g,n.c,n.d,n.M,n.u,n.k,i.h,i.e,i.f,n.t,n.s,n.X,i.d,i.g,n.T,n.K,n.o,n.f],styles:[".hideShow[_ngcontent-%COMP%]{display:none}.lb-img[_ngcontent-%COMP%]{background:#fff}"]}),e})()}];let p=(()=>{class e{}return e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({factory:function(t){return new(t||e)},imports:[[r.i.forChild(b)],r.i]}),e})(),c=(()=>{class e{}return e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({factory:function(t){return new(t||e)},imports:[[o.b,i.a,n.O,p]]}),e})()}}]);