!function(){function e(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function i(e,i){for(var t=0;t<i.length;t++){var o=i[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{wEb3:function(t,o,n){"use strict";n.r(o),n.d(o,"DrawsPageModule",(function(){return Q}));var a,g,s,A=n("ofXK"),r=n("3Pt+"),l=n("TEn/"),b=n("tyNb"),c=n("kOL3"),C=n("fXoL"),u=n("VGr1"),B=n("hq03"),h=["canvas"],I=[{path:"",component:(a=function(){function t(i,o,n,a){e(this,t),this.service=i,this.alert=o,this.router=n,this.elementRef=a,this.forms={beam_id:this.service.piller_id,opportunity_id:this.service.opportunity.OPPORTUNITY_ID,opportunity_user_id:this.service.opportunity.OWNER_USER_ID,floor_joist_span_left:"",floor_joist_span_right:"",clear_beam_span:""},this.update=!0,this.editImage=!1}var o,n,a;return o=t,(n=[{key:"ngOnInit",value:function(){this.getBeamspan()}},{key:"inputsChange",value:function(){this.forms.clear_beam_span=this.forms.floor_joist_span_left+" ' "+this.forms.floor_joist_span_right}},{key:"editImagefun",value:function(){this.editImage=!this.editImage}},{key:"getBeamspan",value:function(){var e=this;this.service.showLoader(),this.service.postObs("/getdata/beam_span",{beam_id:this.service.piller_id,opportunity_id:this.service.opportunity.OPPORTUNITY_ID,delete_status:"S"}).subscribe((function(i){e.service.hideLoader(),200==i.status?(e.update=!1,e.forms=i.result[0],e.forms.remove_beam=i.result[0].remove_beam,e.badgeOne=e.forms.beam_height_type.split("-")[0],e.badgeTwo=e.forms.beam_height_type.split("-")[1],e.editImage=!1):e.editImage=!0}))}},{key:"selectBeam",value:function(e,i){this.badgeOne=1==i?e:this.badgeOne,this.badgeTwo=2==i?e:this.badgeTwo,this.forms.beam_height_type=this.badgeOne+"-"+this.badgeTwo}},{key:"create",value:function(e){var i=this,t=this.signaturePad.toDataURL();this.service.checkProperties(e.control.value)&&t?(this.service.showLoader(),this.service.postObs("/postdata/beam_span",{beam_id:this.service.piller_id,opportunity_id:this.service.opportunity.OPPORTUNITY_ID,opportunity_user_id:this.service.opportunity.OWNER_USER_ID,floor_joist_span_left:e.value.floor_joist_span_left,floor_joist_span_right:e.value.floor_joist_span_right,clear_beam_span:e.value.clear_beam_span,beam_height_type:this.forms.beam_height_type,remove_beam:t||this.forms.remove_beam}).subscribe((function(e){i.service.hideLoader(),201==e.status?i.service.router.navigate(["/pillers"]):i.alert.presentToast("insert data failed..!")}))):this.alert.presentToast("Please fill all the data..!")}},{key:"updateForm",value:function(e){var i=this,t=this.signaturePad.toDataURL();if(this.service.checkProperties(e.control.value)&&t){this.service.showLoader();var o={beam_id:this.service.piller_id,opportunity_id:this.service.opportunity.OPPORTUNITY_ID,opportunity_user_id:this.service.opportunity.OWNER_USER_ID,floor_joist_span_left:e.value.floor_joist_span_left,floor_joist_span_right:e.value.floor_joist_span_right,clear_beam_span:e.value.clear_beam_span,beam_height_type:this.forms.beam_height_type,remove_beam:this.checkImage(t)?t:this.forms.remove_beam};console.log(o),this.service.postObs("/putdata/beam_span",o).subscribe((function(e){i.service.hideLoader(),i.service.router.navigate(["/pillers"])}))}else this.alert.presentToast("Please fill all the data..!")}},{key:"checkImage",value:function(e){if("data:image/png;base64,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"!=e)return!0}},{key:"selectColWall",value:function(e){this.forms.col_wall=e,this.forms.col_if_wall_to_remove=e+" to remove"}},{key:"selectDropFlush",value:function(e){this.forms.drop_flush=e}},{key:"onResize",value:function(e){console.log(e),this.init()}},{key:"init",value:function(){this.elementRef.nativeElement.querySelector("canvas"),this.signaturePad&&this.signaturePad.clear()}},{key:"ngAfterViewInit",value:function(){this.signaturePad=new c.a(this.signaturePadElement.nativeElement),this.signaturePad.clear(),this.signaturePad.penColor="rgb(51,190,229)"}},{key:"isCanvasBlank",value:function(){if(this.signaturePad)return!!this.signaturePad.isEmpty()}},{key:"clear",value:function(){this.signaturePad.clear()}},{key:"undo",value:function(){var e=this.signaturePad.toData();e&&(e.pop(),this.signaturePad.fromData(e))}},{key:"skip",value:function(e){this.router.navigate(["/pillers"])}}])&&i(o.prototype,n),a&&i(o,a),t}(),a.\u0275fac=function(e){return new(e||a)(C.Hb(u.a),C.Hb(B.a),C.Hb(b.g),C.Hb(C.l))},a.\u0275cmp=C.Bb({type:a,selectors:[["app-draws"]],viewQuery:function(e,i){var t;1&e&&C.hc(h,!0),2&e&&C.bc(t=C.Tb())&&(i.signaturePadElement=t.first)},hostBindings:function(e,i){1&e&&C.Sb("resize",(function(e){return i.onResize(e)}),!1,C.dc)},decls:64,vars:14,consts:[["slot","start"],["method","post",1,"form_item"],["form","ngForm"],[1,"lb-img"],["position","floating"],["type","number","name","floor_joist_span_left",3,"ngModel","ionChange","ngModelChange"],["type","number","name","floor_joist_span_right",3,"ngModel","ionChange","ngModelChange"],["type","text","name","clear_beam_span",3,"ngModel","ngModelChange"],["lines","none",1,"lb-img"],[1,""],[1,"ion-align-items-center","lb-img"],["col-4","","size","2",1,"ion-align-self-start","margin_set",3,"click"],[3,"ngClass"],["col-4","",1,"ion-align-self-center","ion-text-center"],["col-4","","size","2",1,"ion-align-self-end","margin_set",3,"click"],[1,"signature-pad",3,"ngClass"],[1,"align-center"],["width","360","height","220",1,"signature-pad-canvas",2,"touch-action","none"],["canvas",""],["color","light","expand","full","size","4",3,"click"],["width","360","height","220",3,"src"],["expand","full","color","secondary",1,"button_pos",3,"click"],["type","submit","expand","full","color","secondary",1,"footer_btn",3,"click"]],template:function(e,i){if(1&e){var t=C.Lb();C.Kb(0,"ion-header"),C.Kb(1,"ion-toolbar"),C.Kb(2,"ion-buttons",0),C.Ib(3,"ion-back-button"),C.Jb(),C.Kb(4,"ion-title"),C.jc(5,"draws"),C.Jb(),C.Jb(),C.Jb(),C.Kb(6,"ion-content"),C.Kb(7,"form",1,2),C.Kb(9,"ion-item",3),C.Kb(10,"ion-label",4),C.jc(11,"Floor Joist Span Left"),C.Jb(),C.Kb(12,"ion-input",5),C.Sb("ionChange",(function(){return i.inputsChange()}))("ngModelChange",(function(e){return i.forms.floor_joist_span_left=e})),C.Jb(),C.Jb(),C.Kb(13,"ion-item",3),C.Kb(14,"ion-label",4),C.jc(15,"Floor Joint Span Right"),C.Jb(),C.Kb(16,"ion-input",6),C.Sb("ionChange",(function(){return i.inputsChange()}))("ngModelChange",(function(e){return i.forms.floor_joist_span_right=e})),C.Jb(),C.Jb(),C.Kb(17,"ion-item",3),C.Kb(18,"ion-label",4),C.jc(19,"Clear Beam Span"),C.Jb(),C.Kb(20,"ion-input",7),C.Sb("ngModelChange",(function(e){return i.forms.clear_beam_span=e})),C.Jb(),C.Jb(),C.Kb(21,"ion-item",8),C.Kb(22,"ion-label",9),C.jc(23,"Beam height"),C.Jb(),C.Jb(),C.Kb(24,"ion-row",10),C.Kb(25,"ion-col",11),C.Sb("click",(function(e){return i.selectBeam(e.target.innerHTML,1)})),C.Kb(26,"ion-badge",12),C.jc(27,"F"),C.Jb(),C.Kb(28,"ion-badge",12),C.jc(29,"C"),C.Jb(),C.Kb(30,"ion-badge",12),C.jc(31,"W"),C.Jb(),C.Kb(32,"ion-badge",12),C.jc(33,"O"),C.Jb(),C.Jb(),C.Ib(34,"ion-col",13),C.Kb(35,"ion-col",14),C.Sb("click",(function(e){return i.selectBeam(e.target.innerHTML,2)})),C.Kb(36,"ion-badge",12),C.jc(37,"F"),C.Jb(),C.Kb(38,"ion-badge",12),C.jc(39,"C"),C.Jb(),C.Kb(40,"ion-badge",12),C.jc(41,"W"),C.Jb(),C.Kb(42,"ion-badge",12),C.jc(43,"O"),C.Jb(),C.Jb(),C.Jb(),C.Kb(44,"ion-item",15),C.Kb(45,"ion-row",16),C.Kb(46,"ion-label"),C.jc(47,"Draw Beam"),C.Jb(),C.Ib(48,"canvas",17,18),C.Kb(50,"ion-button",19),C.Sb("click",(function(){return i.undo()})),C.jc(51," Undo"),C.Jb(),C.Kb(52,"ion-button",19),C.Sb("click",(function(){return i.clear()})),C.jc(53," Clear"),C.Jb(),C.Jb(),C.Jb(),C.Kb(54,"ion-item",15),C.Kb(55,"ion-row",16),C.Kb(56,"ion-label"),C.jc(57,"Draw Beam"),C.Jb(),C.Ib(58,"img",20),C.Kb(59,"ion-button",21),C.Sb("click",(function(){return i.editImagefun()})),C.jc(60," Edit"),C.Jb(),C.Jb(),C.Jb(),C.Jb(),C.Jb(),C.Kb(61,"ion-footer"),C.Kb(62,"ion-button",22),C.Sb("click",(function(){C.ec(t);var e=C.cc(8);return i.update?i.create(e):i.updateForm(e)})),C.jc(63,"Continue"),C.Jb(),C.Jb()}2&e&&(C.xb(12),C.Zb("ngModel",i.forms.floor_joist_span_left),C.xb(4),C.Zb("ngModel",i.forms.floor_joist_span_right),C.xb(4),C.Zb("ngModel",i.forms.clear_beam_span),C.xb(6),C.Zb("ngClass","F"==i.badgeOne?"badgeColor":""),C.xb(2),C.Zb("ngClass","C"==i.badgeOne?"badgeColor":""),C.xb(2),C.Zb("ngClass","W"==i.badgeOne?"badgeColor":""),C.xb(2),C.Zb("ngClass","O"==i.badgeOne?"badgeColor":""),C.xb(4),C.Zb("ngClass","F"==i.badgeTwo?"badgeColor":""),C.xb(2),C.Zb("ngClass","C"==i.badgeTwo?"badgeColor":""),C.xb(2),C.Zb("ngClass","W"==i.badgeTwo?"badgeColor":""),C.xb(2),C.Zb("ngClass","O"==i.badgeTwo?"badgeColor":""),C.xb(2),C.Zb("ngClass",i.editImage?"":"hideClass"),C.xb(10),C.Zb("ngClass",i.editImage?"hideClass":""),C.xb(4),C.Zb("src",i.forms.remove_beam,C.fc))},directives:[l.p,l.N,l.g,l.c,l.d,l.M,l.k,r.h,r.e,r.f,l.t,l.u,l.s,l.T,r.d,r.g,l.X,l.D,l.j,l.e,A.i,l.f,l.o],styles:[".signature-pad[_ngcontent-%COMP%]{background:#fff;border:1px solid #33bee5!important;margin-top:0}.hideClass[_ngcontent-%COMP%]{display:none}.margin_set[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%]{width:100%;background:none;color:#000;border:1px solid #33bee5;float:left;margin:2px 0}.badgeColor[_ngcontent-%COMP%]{background:#33bee5!important}.label_color[_ngcontent-%COMP%]{color:#9e9e9e}.button_pos[_ngcontent-%COMP%]{position:absolute;right:0}.lb-img[_ngcontent-%COMP%]{background:#fff}"]}),a)}],d=((s=function i(){e(this,i)}).\u0275mod=C.Fb({type:s}),s.\u0275inj=C.Eb({factory:function(e){return new(e||s)},imports:[[b.i.forChild(I)],b.i]}),s),Q=((g=function i(){e(this,i)}).\u0275mod=C.Fb({type:g}),g.\u0275inj=C.Eb({factory:function(e){return new(e||g)},imports:[[A.b,r.a,l.O,d]]}),g)}}])}();