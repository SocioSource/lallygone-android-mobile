!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var s=t[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{cRhG:function(o,s,n){"use strict";n.r(s),n.d(s,"ProfilePageModule",(function(){return h}));var i,r,a,l=n("ofXK"),d=n("3Pt+"),c=n("TEn/"),b=n("tyNb"),u=n("fXoL"),p=n("VGr1"),f=n("hq03"),_=[{path:"",component:(i=function(){function o(t,s,n,i){e(this,o),this.service=t,this.alert=s,this.router=n,this.route=i,this.forms={email:"",phone:"",cell:"",first_name:"",last_name:"",address_street:"",address_city:"",address_state:"",address_postcode:"",scope_of_work:""},this.update=!0,this.showList=!1}var s,n,i;return s=o,(n=[{key:"ngOnInit",value:function(){var e=this;this.service.getLocation(),this.route.queryParams.subscribe((function(t){if(t&&t.special){var o=JSON.parse(t.special);e.opportunity=o,e.service.opportunity=o,console.log(e.service.opportunity),e.getOpps()}}))}},{key:"getOpps",value:function(){var e=this,t=this.service.address?this.service.address.split(","):"";console.log(t),this.service.showLoader(),this.service.postObs("/getdata/lead",{opportunity_id:this.opportunity.OPPORTUNITY_ID,delete_status:"S"}).subscribe((function(o){200==o.status?(e.update=!1,e.forms=o.result[0],console.log(e.forms),e.service.mailData=e.forms,e.getPillerDetails()):(e.forms=e.service.opportunity,e.forms.address_street=t[0]?t[0]:"",e.forms.address_city=t[2]?t[2]:"",e.forms.address_state=t[3]?t[3]:"",e.forms.address_postcode=t[4]?t[4]:""),e.service.hideLoader()}))}},{key:"getPillerDetails",value:function(){var e=this;this.service.postObs("/getdata/pillers",{opportunity_id:this.service.opportunity.OPPORTUNITY_ID,delete_status:"S"}).subscribe((function(t){200==t.status&&(e.showList=!0)}))}},{key:"create",value:function(e){var t=this;if(console.log(this.service.checkProperties(e.control.value)),this.service.checkProperties(e.control.value)){this.service.showLoader();var o={opportunity_id:this.opportunity.OPPORTUNITY_ID,opportunity_user_id:this.opportunity.OWNER_USER_ID,created_userid:this.opportunity.CREATED_USER_ID,responsible_userid:this.opportunity.RESPONSIBLE_USER_ID,owner_user_id:this.opportunity.OWNER_USER_ID,email:e.value.email,phone:e.value.phone,cell:e.value.cell,first_name:e.value.first_name,last_name:e.value.last_name,address_street:e.value.address_street,address_city:e.value.address_city,address_state:e.value.address_state,address_postcode:e.value.address_postcode,scope_of_work:e.value.scope_of_work};this.service.mailData=o,this.service.postObs("/postdata/lead",o).subscribe((function(e){t.service.hideLoader(),console.log(e),201==e.status?t.router.navigateByUrl("/appoinment"):t.alert.presentToast("opportunity insert failed..!")})),console.log("profile page")}else this.alert.presentToast("Please fill all the data..!")}},{key:"updateForm",value:function(e){var t=this;if(this.service.checkProperties(e.control.value)){this.service.showLoader();var o={opportunity_id:this.opportunity.OPPORTUNITY_ID,opportunity_user_id:this.opportunity.OWNER_USER_ID,created_userid:this.opportunity.CREATED_USER_ID,responsible_userid:this.opportunity.RESPONSIBLE_USER_ID,owner_user_id:this.opportunity.OWNER_USER_ID,email:e.value.email,phone:e.value.phone,cell:e.value.cell,first_name:e.value.first_name,last_name:e.value.last_name,address_street:e.value.address_street,address_city:e.value.address_city,address_state:e.value.address_state,address_postcode:e.value.address_postcode,scope_of_work:e.value.scope_of_work};this.service.mailData=o,this.service.postObs("/putdata/lead",o).subscribe((function(e){t.service.hideLoader(),t.router.navigateByUrl("/appoinment")}))}else this.alert.presentToast("Please fill all the data..!")}},{key:"skip",value:function(e){this.router.navigateByUrl("/appoinment")}},{key:"pillerPage",value:function(){this.router.navigateByUrl("/pillers")}}])&&t(s.prototype,n),i&&t(s,i),o}(),i.\u0275fac=function(e){return new(e||i)(u.Hb(p.a),u.Hb(f.a),u.Hb(b.g),u.Hb(b.a))},i.\u0275cmp=u.Bb({type:i,selectors:[["app-profile"]],decls:51,vars:11,consts:[[1,"ion-text-center"],["slot","start"],["method","post",1,"form_item"],["form","ngForm"],[1,"lb-img"],["position","floating"],["type","text","name","first_name",3,"ngModel","ngModelChange"],["type","text","name","last_name",3,"ngModel","ngModelChange"],["type","email","name","email",3,"ngModel","ngModelChange"],["type","number","name","phone",3,"ngModel","ngModelChange"],["type","number","name","cell",3,"ngModel","ngModelChange"],["type","text","name","address_street",3,"ngModel","ngModelChange"],["type","text","name","address_city",3,"ngModel","ngModelChange"],["type","text","name","address_state",3,"ngModel","ngModelChange"],["type","text","name","address_postcode",3,"ngModel","ngModelChange"],["name","scope_of_work","placeholder","Scope of work",3,"ngModel","ngModelChange"],["type","submit","expand","full","color","secondary",1,"footer_btn",3,"click"]],template:function(e,t){if(1&e){var o=u.Lb();u.Kb(0,"ion-header"),u.Kb(1,"ion-toolbar",0),u.Kb(2,"ion-buttons",1),u.Ib(3,"ion-back-button"),u.Jb(),u.Kb(4,"ion-title"),u.Kb(5,"ion-label"),u.jc(6),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Kb(7,"ion-content"),u.Kb(8,"form",2,3),u.Kb(10,"ion-item",4),u.Kb(11,"ion-label",5),u.jc(12,"First Name"),u.Jb(),u.Kb(13,"ion-input",6),u.Sb("ngModelChange",(function(e){return t.forms.first_name||(t.forms.OPPORTUNITY_NAME=e)})),u.Jb(),u.Jb(),u.Kb(14,"ion-item",4),u.Kb(15,"ion-label",5),u.jc(16,"Last Name"),u.Jb(),u.Kb(17,"ion-input",7),u.Sb("ngModelChange",(function(e){return t.forms.last_name=e})),u.Jb(),u.Jb(),u.Kb(18,"ion-item",4),u.Kb(19,"ion-label",5),u.jc(20,"Email"),u.Jb(),u.Kb(21,"ion-input",8),u.Sb("ngModelChange",(function(e){return t.forms.email=e})),u.Jb(),u.Jb(),u.Kb(22,"ion-item",4),u.Kb(23,"ion-label",5),u.jc(24,"Phone"),u.Jb(),u.Kb(25,"ion-input",9),u.Sb("ngModelChange",(function(e){return t.forms.phone=e})),u.Jb(),u.Jb(),u.Kb(26,"ion-item",4),u.Kb(27,"ion-label",5),u.jc(28,"Cell"),u.Jb(),u.Kb(29,"ion-input",10),u.Sb("ngModelChange",(function(e){return t.forms.cell=e})),u.Jb(),u.Jb(),u.Kb(30,"ion-item",4),u.Kb(31,"ion-label",5),u.jc(32,"Address"),u.Jb(),u.Kb(33,"ion-input",11),u.Sb("ngModelChange",(function(e){return t.forms.address_street=e})),u.Jb(),u.Jb(),u.Kb(34,"ion-item",4),u.Kb(35,"ion-label",5),u.jc(36,"City"),u.Jb(),u.Kb(37,"ion-input",12),u.Sb("ngModelChange",(function(e){return t.forms.address_city=e})),u.Jb(),u.Jb(),u.Kb(38,"ion-item",4),u.Kb(39,"ion-label",5),u.jc(40,"State"),u.Jb(),u.Kb(41,"ion-input",13),u.Sb("ngModelChange",(function(e){return t.forms.address_state=e})),u.Jb(),u.Jb(),u.Kb(42,"ion-item",4),u.Kb(43,"ion-label",5),u.jc(44,"Zip"),u.Jb(),u.Kb(45,"ion-input",14),u.Sb("ngModelChange",(function(e){return t.forms.address_postcode=e})),u.Jb(),u.Jb(),u.Kb(46,"ion-item",4),u.Kb(47,"ion-textarea",15),u.Sb("ngModelChange",(function(e){return t.forms.scope_of_work=e})),u.Jb(),u.Jb(),u.Jb(),u.Jb(),u.Kb(48,"ion-footer"),u.Kb(49,"ion-button",16),u.Sb("click",(function(){u.ec(o);var e=u.cc(9);return t.update?t.create(e):t.updateForm(e)})),u.jc(50,"Continue"),u.Jb(),u.Jb()}2&e&&(u.xb(6),u.kc(t.service.opportunity.OPPORTUNITY_NAME),u.xb(7),u.Zb("ngModel",t.forms.first_name||t.forms.OPPORTUNITY_NAME),u.xb(4),u.Zb("ngModel",t.forms.last_name),u.xb(4),u.Zb("ngModel",t.forms.email),u.xb(4),u.Zb("ngModel",t.forms.phone),u.xb(4),u.Zb("ngModel",t.forms.cell),u.xb(4),u.Zb("ngModel",t.forms.address_street),u.xb(4),u.Zb("ngModel",t.forms.address_city),u.xb(4),u.Zb("ngModel",t.forms.address_state),u.xb(4),u.Zb("ngModel",t.forms.address_postcode),u.xb(2),u.Zb("ngModel",t.forms.scope_of_work))},directives:[c.p,c.N,c.g,c.c,c.d,c.M,c.u,c.k,d.h,d.e,d.f,c.t,c.s,c.X,d.d,d.g,c.T,c.K,c.o,c.f],styles:[".hideShow[_ngcontent-%COMP%]{display:none}.lb-img[_ngcontent-%COMP%]{background:#fff}"]}),i)}],m=((a=function t(){e(this,t)}).\u0275mod=u.Fb({type:a}),a.\u0275inj=u.Eb({factory:function(e){return new(e||a)},imports:[[b.i.forChild(_)],b.i]}),a),h=((r=function t(){e(this,t)}).\u0275mod=u.Fb({type:r}),r.\u0275inj=u.Eb({factory:function(e){return new(e||r)},imports:[[l.b,d.a,c.O,m]]}),r)}}])}();