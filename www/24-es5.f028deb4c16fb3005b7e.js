!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{GpjZ:function(n,s,i){"use strict";i.r(s),i.d(s,"UserlistsPageModule",(function(){return m}));var o=i("ofXK"),r=i("3Pt+"),a=i("TEn/"),c=i("tyNb"),l=i("fXoL"),u=i("VGr1"),b=i("hq03");function h(e,t){if(1&e&&(l.Kb(0,"ion-select-option",11),l.jc(1),l.Jb()),2&e){var n=t.$implicit;l.Zb("value",n),l.xb(1),l.kc(n.EMAIL_ADDRESS)}}var f,g,d,p=[{path:"",component:(f=function(){function n(t,s,i){e(this,n),this.service=t,this.alert=s,this.menu=i,this.userPosition="create Password",this.userCreate={EMAIL_ADDRESS:""},console.log(t.userList)}var s,i,o;return s=n,(i=[{key:"ngOnInit",value:function(){this.getUsers()}},{key:"ionViewDidEnter",value:function(){console.log("ionViewDidEnter"),this.menu.enable(!1)}},{key:"getUsers",value:function(){var e=this;this.service.showLoader(),this.service.postObs("/callApi",{method:"GET",url:"https://api.insightly.com/v3.1/Users?count_total=false",data:!1,key:"Basic YmY0NGViN2QtMWFmYy00NjA4LTg4MDQtMGVhNWY4YTc4NTVh"}).subscribe((function(t){e.service.hideLoader(),200==t.status?e.service.userList=t.result:e.alert.presentToast("No more users")}))}},{key:"selectUser",value:function(){var e=this;console.log(this.userCreate),this.service.postObs("/userFind/user",{user_id:this.userCreate.USER_ID}).subscribe((function(t){e.userPosition=404==t.status?"createPassword":"login"}))}},{key:"create",value:function(e){var t=this,n={email:this.userCreate.EMAIL_ADDRESS,password:e.value.password,user_id:this.userCreate.USER_ID,first_name:this.userCreate.FIRST_NAME,last_name:this.userCreate.LAST_NAME,dropbox_email:this.userCreate.EMAIL_DROPBOX_ADDRESS,dropbox_identity:this.userCreate.EMAIL_DROPBOX_IDENTIFIER,instance_id:this.userCreate.INSTANCE_ID,user_currency:this.userCreate.USER_CURRENCY};this.service.checkProperties(n)?(this.service.showLoader(),this.service.postObs("/postData/user/",n).subscribe((function(n){console.log(n),t.service.hideLoader(),201==n.status?(t.alert.presentToast("User created..!"),console.log(n),t.login(e)):t.alert.presentToast("User create failed..!")}),(function(e){console.log(e)}))):this.alert.presentToast("Fill all the fields")}},{key:"login",value:function(e){var t=this,n={email:this.userCreate.EMAIL_ADDRESS,password:e.value.password};console.log(n),this.service.checkProperties(n)?(this.service.showLoader(),this.service.postObs("/login/",n).subscribe((function(e){t.service.hideLoader(),200==e.status?(t.service.st.remove("token"),t.service.st.set("token",e.result[0].token),t.service.token=e.result[0].token,t.service.st.set("userdata",e.result[0]),t.service.userdata=e.result[0],t.alert.presentToast("Logged In"),t.service.navCtrl.navigateRoot("/main")):t.alert.presentToast("Please check the password")}),(function(e){console.log(e),t.service.hideLoader()}))):this.alert.presentToast("Fill all the fields")}},{key:"setUIBackButtonAction",value:function(){var e=this;this.backButton.onClick=function(){e.userPosition="Users"}}},{key:"back",value:function(){this.userPosition="Users"}}])&&t(s.prototype,i),o&&t(s,o),n}(),f.\u0275fac=function(e){return new(e||f)(l.Hb(u.a),l.Hb(b.a),l.Hb(a.R))},f.\u0275cmp=l.Bb({type:f,selectors:[["app-userlists"]],viewQuery:function(e,t){var n;1&e&&l.nc(a.d,!0),2&e&&l.bc(n=l.Tb())&&(t.backButton=n.first)},decls:20,vars:3,consts:[[1,"vertical-center"],["method","post",3,"ngSubmit"],["form","ngForm"],["text-center","","lines","none",1,"login-logo"],["src","./assets/imgs/logo.png"],["position","floating"],["name","email","interface","action-sheet",3,"ngModel","ngModelChange","ionChange"],[3,"value",4,"ngFor","ngForOf"],["ngModel","","type","password","name","password"],["color","danger",1,"ion-text-right","ion-padding-horizontal"],["expand","block","shape","round","type","submit","expand","full","color","primary",1,"footer_btn",3,"click"],[3,"value"]],template:function(e,t){if(1&e){var n=l.Lb();l.Kb(0,"ion-content"),l.Kb(1,"div",0),l.Kb(2,"form",1,2),l.Sb("ngSubmit",(function(){l.ec(n);var e=l.cc(3);return"login"==t.userPosition?t.login(e):t.create(e)})),l.Kb(4,"ion-item",3),l.Kb(5,"ion-label"),l.Ib(6,"img",4),l.Jb(),l.Jb(),l.Kb(7,"ion-item"),l.Kb(8,"ion-label",5),l.jc(9,"Email"),l.Jb(),l.Kb(10,"ion-select",6),l.Sb("ngModelChange",(function(e){return t.userCreate=e}))("ionChange",(function(){return t.selectUser()})),l.ic(11,h,2,2,"ion-select-option",7),l.Jb(),l.Jb(),l.Kb(12,"ion-item"),l.Kb(13,"ion-label",5),l.jc(14,"Password"),l.Jb(),l.Ib(15,"ion-input",8),l.Jb(),l.Kb(16,"p",9),l.jc(17,"Forgot Password?"),l.Jb(),l.Kb(18,"ion-button",10),l.Sb("click",(function(){l.ec(n);var e=l.cc(3);return"login"==t.userPosition?t.login(e):t.create(e)})),l.jc(19),l.Jb(),l.Jb(),l.Jb(),l.Jb()}2&e&&(l.xb(10),l.Zb("ngModel",t.userCreate),l.xb(1),l.Zb("ngForOf",t.service.userList),l.xb(8),l.lc(" ","login"==t.userPosition?"Login":"Create",""))},directives:[a.k,r.h,r.e,r.f,a.t,a.u,a.E,a.W,r.d,r.g,o.j,a.s,a.X,a.f,a.F],styles:[".vertical-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.vertical-center[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%;margin:auto;float:left}.login-logo[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{text-align:center}ion-footer[_ngcontent-%COMP%]   .footer_btn[_ngcontent-%COMP%]{margin:auto;height:35pt}"]}),f)}],v=((d=function t(){e(this,t)}).\u0275mod=l.Fb({type:d}),d.\u0275inj=l.Eb({factory:function(e){return new(e||d)},imports:[[c.i.forChild(p)],c.i]}),d),m=((g=function t(){e(this,t)}).\u0275mod=l.Fb({type:g}),g.\u0275inj=l.Eb({factory:function(e){return new(e||g)},imports:[[o.b,r.a,a.O,v]]}),g)}}])}();