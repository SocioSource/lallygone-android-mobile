(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"8Aay":function(e,t,o){"use strict";o.r(t),o.d(t,"BillersPageModule",(function(){return _}));var i=o("ofXK"),l=o("3Pt+"),n=o("TEn/"),s=o("tyNb"),r=o("fXoL"),a=o("VGr1"),b=o("hq03");function c(e,t){if(1&e){const e=r.Lb();r.Kb(0,"ion-list",24),r.Kb(1,"ion-item"),r.Kb(2,"ion-label",25),r.Sb("click",(function(){r.ec(e);const o=t.$implicit;return r.Ub().editForm(o)})),r.jc(3),r.Jb(),r.Kb(4,"ion-icon",26),r.Sb("click",(function(){r.ec(e);const o=t.index;return r.Ub().removePiller(o)})),r.Jb(),r.Jb(),r.Jb()}if(2&e){const e=t.$implicit,o=t.index,i=r.Ub();r.Zb("ngClass",i.showList?"":"hideShow"),r.xb(3),r.mc("",e.opportunity_id," Pillar ",o+1,"")}}function h(e,t){if(1&e){const e=r.Lb();r.Kb(0,"ion-button",27),r.Sb("click",(function(){r.ec(e);const t=r.Ub(),o=r.cc(9);return t.update?t.updateForm(o):t.create(o)})),r.jc(1,"Continue"),r.Jb()}}function d(e,t){if(1&e){const e=r.Lb();r.Kb(0,"ion-button",28),r.Sb("click",(function(){r.ec(e);const t=r.Ub(),o=r.cc(9);return t.skip(o)})),r.jc(1,"Continue"),r.Jb()}if(2&e){const e=r.Ub();r.Zb("disabled",0==e.pillers.length)}}const u=[{path:"",component:(()=>{class e{constructor(e,t,o){this.service=e,this.alert=t,this.router=o,this.forms={opportunity_id:this.service.opportunity.OPPORTUNITY_ID,opportunity_user_id:this.service.opportunity.OWNER_USER_ID,col_wall:"",col_wall_location:"",height_from_FF:"",beam_length:"",beam_width:"",beam_depth:"",col_if_wall_to_remove:"",drop_flush:"",unit_price:"",total:""},this.pillers=[],this.update=!1,this.showList=!1,console.log(this.service.opportunity)}ngOnInit(){}ionViewWillEnter(){this.update=!1,this.showList=!1,this.getPillerDetails()}getPillerDetails(){this.service.showLoader(),this.service.postObs("/getdata/pillers",{opportunity_id:this.service.opportunity.OPPORTUNITY_ID,delete_status:"S"}).subscribe(e=>{200==e.status&&(this.update=!0,this.showList=!0,this.pillers=e.result),this.service.hideLoader()})}editForm(e){this.forms=e,this.update=!0,this.showList=!1}add(){this.forms={opportunity_id:this.service.opportunity.OPPORTUNITY_ID,opportunity_user_id:this.service.opportunity.OWNER_USER_ID,col_wall:"",col_wall_location:"",height_from_FF:"",beam_length:"",beam_width:"",beam_depth:"",col_if_wall_to_remove:"",drop_flush:"",unit_price:"",total:""},this.update=!1,this.showList=!1}create(e){this.service.checkProperties(e.control.value)?(this.service.showLoader(),this.service.postObs("/postdata/pillers",{opportunity_id:this.service.opportunity.OPPORTUNITY_ID,opportunity_user_id:this.service.opportunity.OWNER_USER_ID,col_wall:e.value.col_wall,col_wall_location:e.value.col_wall_location,height_from_FF:e.value.height_from_FF,beam_length:e.value.beam_length,beam_width:e.value.beam_width,beam_depth:e.value.beam_depth,col_if_wall_to_remove:e.value.col_if_wall_to_remove,drop_flush:e.value.drop_flush,unit_price:e.value.unit_price,total:e.value.total}).subscribe(e=>{201==e.status?this.getPillerID():this.alert.presentToast("insert data failed..!"),this.service.hideLoader()})):this.alert.presentToast("Please fill all the data..!")}getPillerID(){this.service.showLoader(),this.service.postObs("/getdata/pillers",{opportunity_id:this.service.opportunity.OPPORTUNITY_ID,delete_status:"S"}).subscribe(e=>{this.service.hideLoader(),200==e.status&&(this.service.piller_id=e.result[e.count-1].id,this.service.router.navigateByUrl("/draws"))})}updateForm(e){this.service.checkProperties(e.control.value)?(this.service.showLoader(),this.service.postObs("/putdata/pillers",{id:this.forms.id,opportunity_id:this.service.opportunity.OPPORTUNITY_ID,opportunity_user_id:this.service.opportunity.OWNER_USER_ID,col_wall:this.forms.col_wall,col_wall_location:e.value.col_wall_location,height_from_FF:e.value.height_from_FF,beam_length:e.value.beam_length,beam_width:e.value.beam_width,beam_depth:e.value.beam_depth,col_if_wall_to_remove:e.value.col_if_wall_to_remove,drop_flush:this.forms.drop_flush,unit_price:e.value.unit_price,total:e.value.total}).subscribe(e=>{this.service.hideLoader(),201==e.status?(this.service.piller_id=this.forms.id,this.service.router.navigateByUrl("/draws")):(this.service.piller_id=this.forms.id,this.router.navigateByUrl("/draws"))})):this.alert.presentToast("Please fill all the data..!")}removePiller(e){this.service.showLoader(),this.service.postObs("/putdata/pillers",{id:this.pillers[e].id,delete_status:"N"}).subscribe(t=>{this.service.hideLoader(),201==t.status?this.pillers.splice(e,1):this.alert.presentToast("Delete data failed..!")})}selectColWall(e){this.forms.col_wall=e,this.forms.col_if_wall_to_remove=e+" to remove"}selectDropFlush(e){this.forms.drop_flush=e}skip(e){this.service.piller_id=this.forms.id,this.router.navigateByUrl("/fees")}ionViewDidEnter(){console.log("ionViewDidEnter"),this.setUIBackButtonAction()}setUIBackButtonAction(){this.backButton.onClick=()=>{this.showList?this.router.navigateByUrl("/appoinment"):this.showList=!1,this.showList=!0}}}return e.\u0275fac=function(t){return new(t||e)(r.Hb(a.a),r.Hb(b.a),r.Hb(s.g))},e.\u0275cmp=r.Bb({type:e,selectors:[["app-billers"]],viewQuery:function(e,t){var o;1&e&&r.nc(n.d,!0),2&e&&r.bc(o=r.Tb())&&(t.backButton=o.first)},decls:68,vars:16,consts:[["slot","start"],[3,"ngClass",4,"ngFor","ngForOf"],["method","post",1,"form_item",3,"ngClass"],["form","ngForm"],["name","col_wall",3,"ngModel","ngModelChange","ionChange"],["value","col"],["value","wall"],[1,"lb-img"],["position","floating"],["ngModel","","type","text","name","col_wall_location","placeholder","Location",3,"ngModel","ngModelChange"],["ngModel","","type","number","name","height_from_FF","placeholder","Height FF",3,"ngModel","ngModelChange"],["ngModel","","type","number","name","beam_length","placeholder","Beam length",3,"ngModel","ngModelChange"],["ngModel","","type","number","name","beam_width","placeholder","Beam width",3,"ngModel","ngModelChange"],["ngModel","","type","number","name","beam_depth","placeholder","Beam depth",3,"ngModel","ngModelChange"],["ngModel","","type","text","name","col_if_wall_to_remove","disabled","true",3,"ngModel","placeholder","ngModelChange"],["name","drop_flush",3,"ngModel","ngModelChange","ionChange"],["value","drop"],["value","flush"],["ngModel","","type","number","name","unit_price","placeholder","Unit price",3,"ngModel","ngModelChange"],["ngModel","","type","number","name","total","placeholder","Total",3,"ngModel","ngModelChange"],["vertical","bottom","horizontal","end","slot","fixed",3,"ngClass","click"],["name","add"],["class","footer_btn","type","submit","expand","full","color","secondary",3,"click",4,"ngIf"],["class","footer_btn","type","submit","expand","full","color","secondary",3,"disabled","click",4,"ngIf"],[3,"ngClass"],[3,"click"],["name","close",1,"closeIcon",3,"click"],["type","submit","expand","full","color","secondary",1,"footer_btn",3,"click"],["type","submit","expand","full","color","secondary",1,"footer_btn",3,"disabled","click"]],template:function(e,t){1&e&&(r.Kb(0,"ion-header"),r.Kb(1,"ion-toolbar"),r.Kb(2,"ion-buttons",0),r.Ib(3,"ion-back-button"),r.Jb(),r.Kb(4,"ion-title"),r.jc(5,"Pillars"),r.Jb(),r.Jb(),r.Jb(),r.Kb(6,"ion-content"),r.ic(7,c,5,3,"ion-list",1),r.Kb(8,"form",2,3),r.Kb(10,"ion-list"),r.Kb(11,"ion-radio-group",4),r.Sb("ngModelChange",(function(e){return t.forms.col_wall=e}))("ionChange",(function(e){return t.selectColWall(e.target.value)})),r.Kb(12,"ion-item"),r.Kb(13,"ion-label"),r.jc(14,"Col"),r.Jb(),r.Ib(15,"ion-radio",5),r.Jb(),r.Kb(16,"ion-item"),r.Kb(17,"ion-label"),r.jc(18,"Wall"),r.Jb(),r.Ib(19,"ion-radio",6),r.Jb(),r.Jb(),r.Jb(),r.Kb(20,"ion-item",7),r.Kb(21,"ion-label",8),r.jc(22,"Location"),r.Jb(),r.Kb(23,"ion-input",9),r.Sb("ngModelChange",(function(e){return t.forms.col_wall_location=e})),r.Jb(),r.Jb(),r.Kb(24,"ion-item",7),r.Kb(25,"ion-label",8),r.jc(26,"Height FF"),r.Jb(),r.Kb(27,"ion-input",10),r.Sb("ngModelChange",(function(e){return t.forms.height_from_FF=e})),r.Jb(),r.Jb(),r.Kb(28,"ion-item",7),r.Kb(29,"ion-label",8),r.jc(30,"Beam Length"),r.Jb(),r.Kb(31,"ion-input",11),r.Sb("ngModelChange",(function(e){return t.forms.beam_length=e})),r.Jb(),r.Jb(),r.Kb(32,"ion-item",7),r.Kb(33,"ion-label",8),r.jc(34,"Beam Width"),r.Jb(),r.Kb(35,"ion-input",12),r.Sb("ngModelChange",(function(e){return t.forms.beam_width=e})),r.Jb(),r.Jb(),r.Kb(36,"ion-item",7),r.Kb(37,"ion-label",8),r.jc(38,"Beam Depth"),r.Jb(),r.Kb(39,"ion-input",13),r.Sb("ngModelChange",(function(e){return t.forms.beam_depth=e})),r.Jb(),r.Jb(),r.Kb(40,"ion-item",7),r.Kb(41,"ion-label",8),r.jc(42,"To Remove"),r.Jb(),r.Kb(43,"ion-input",14),r.Sb("ngModelChange",(function(e){return t.forms.col_if_wall_to_remove=e})),r.Jb(),r.Jb(),r.Kb(44,"ion-list"),r.Kb(45,"ion-radio-group",15),r.Sb("ngModelChange",(function(e){return t.forms.drop_flush=e}))("ionChange",(function(e){return t.selectDropFlush(e.target.value)})),r.Kb(46,"ion-item"),r.Kb(47,"ion-label"),r.jc(48,"Drop"),r.Jb(),r.Ib(49,"ion-radio",16),r.Jb(),r.Kb(50,"ion-item"),r.Kb(51,"ion-label"),r.jc(52,"Flush"),r.Jb(),r.Ib(53,"ion-radio",17),r.Jb(),r.Jb(),r.Jb(),r.Kb(54,"ion-item",7),r.Kb(55,"ion-label",8),r.jc(56,"Unit Price"),r.Jb(),r.Kb(57,"ion-input",18),r.Sb("ngModelChange",(function(e){return t.forms.unit_price=e})),r.Jb(),r.Jb(),r.Kb(58,"ion-item",7),r.Kb(59,"ion-label",8),r.jc(60,"Total"),r.Jb(),r.Kb(61,"ion-input",19),r.Sb("ngModelChange",(function(e){return t.forms.total=e})),r.Jb(),r.Jb(),r.Jb(),r.Kb(62,"ion-fab",20),r.Sb("click",(function(){return t.add()})),r.Kb(63,"ion-fab-button"),r.Ib(64,"ion-icon",21),r.Jb(),r.Jb(),r.Jb(),r.Kb(65,"ion-footer"),r.ic(66,h,2,0,"ion-button",22),r.ic(67,d,2,1,"ion-button",23),r.Jb()),2&e&&(r.xb(7),r.Zb("ngForOf",t.pillers),r.xb(1),r.Zb("ngClass",t.showList?"hideShow":""),r.xb(3),r.Zb("ngModel",t.forms.col_wall),r.xb(12),r.Zb("ngModel",t.forms.col_wall_location),r.xb(4),r.Zb("ngModel",t.forms.height_from_FF),r.xb(4),r.Zb("ngModel",t.forms.beam_length),r.xb(4),r.Zb("ngModel",t.forms.beam_width),r.xb(4),r.Zb("ngModel",t.forms.beam_depth),r.xb(4),r.ac("placeholder","",t.forms.col_wall," to remove"),r.Zb("ngModel",t.forms.col_if_wall_to_remove),r.xb(2),r.Zb("ngModel",t.forms.drop_flush),r.xb(12),r.Zb("ngModel",t.forms.unit_price),r.xb(4),r.Zb("ngModel",t.forms.total),r.xb(1),r.Zb("ngClass",t.showList?"":"hideShow"),r.xb(4),r.Zb("ngIf",!t.showList),r.xb(1),r.Zb("ngIf",t.showList))},directives:[n.p,n.N,n.g,n.c,n.d,n.M,n.k,i.j,l.h,l.e,l.f,i.i,n.v,n.z,n.W,l.d,l.g,n.t,n.u,n.y,n.V,n.s,n.X,n.T,n.m,n.n,n.q,n.o,i.k,n.f],styles:["ion-radio-group[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{float:left;width:50%}.hideShow[_ngcontent-%COMP%]{display:none}.closeIcon[_ngcontent-%COMP%]{position:absolute;right:12px;top:6px;color:#33bee5;width:16pt}.btn_full[_ngcontent-%COMP%]{margin:auto;height:35pt}.lb-img[_ngcontent-%COMP%]{background:#fff}"]}),e})()}];let p=(()=>{class e{}return e.\u0275mod=r.Fb({type:e}),e.\u0275inj=r.Eb({factory:function(t){return new(t||e)},imports:[[s.i.forChild(u)],s.i]}),e})(),_=(()=>{class e{}return e.\u0275mod=r.Fb({type:e}),e.\u0275inj=r.Eb({factory:function(t){return new(t||e)},imports:[[i.b,l.a,n.O,p]]}),e})()}}]);